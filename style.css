:root {
    --bg-color: #1a1a1d;
    --card-color: #2c2c34;
    --primary-color: #9575cd;
    --secondary-color: #4db6ac;
    --text-color: #f4f4f9;
    --text-secondary: #b3b3b3;
    --danger-color: #ef5350;
    --success-color: #66bb6a;
}
*, *::before, *::after { box-sizing: border-box; }
html, body { height: 100%; }
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    background-color: var(--bg-color);
    color: var(--text-color);
    margin: 0;
    padding: 15px;
}

/* ARCHITETTURA DELLE VISTE */
.view { display: none; width: 100%; max-width: 1200px; margin: 0 auto; }
#calendar-view.view--active, #trainer-view.view--active { display: flex; flex-direction: column; }
#debriefing-view.view--active { display: grid; }

/* Vista Calendario */
#calendar-header { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; margin-bottom: 10px; }
#calendar-header h2 { margin: 0; font-size: 1.2em; color: var(--secondary-color); }
#week-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; }
.day-cell { background: var(--card-color); border-radius: 8px; padding: 8px; min-height: 120px; border-left: 4px solid transparent; cursor: pointer; transition: all 0.2s ease-in-out; display: flex; flex-direction: column; justify-content: space-between; }
.day-cell:hover { transform: translateY(-3px); border-color: var(--primary-color); }
.day-header { font-weight: bold; font-size: 0.8em; color: var(--text-secondary); margin-bottom: 5px; text-align: right; }
.day-number { font-size: 1.5rem; text-align: right; }
.workout-summary { font-size: 0.8em; margin-top: 5px; background: #3c3c44; padding: 5px; border-radius: 4px; text-align: left; }
.workout-summary .title { font-weight: bold; word-wrap: break-word; }

/* Pulsanti */
.btn { padding: 12px 18px; border-radius: 8px; border: none; font-weight: bold; cursor: pointer; transition: all 0.2s; }
.btn:hover { transform: scale(1.03); }
.btn-primary { background: var(--primary-color); color: #000; }
.btn-secondary { background: var(--secondary-color); color: #000; }
.btn-danger { background: var(--danger-color); color: #fff; }
.btn-grey { background: #555; color: var(--text-color); }
.start-btn-small { background: var(--secondary-color); color: #000; border: none; border-radius: 4px; padding: 4px 8px; width: 100%; margin-top: auto; font-size: 0.8em; font-weight: bold; cursor: pointer;}
.start-btn-small:disabled { background: #555; cursor: not-allowed; opacity: 0.5; }


/* Modals */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.8);
    display: none; /* AGGIUNTO: Nascosto di default */
    justify-content: center;
    align-items: center;
    z-index: 1000;
}
.modal-overlay.visible {
    display: flex; /* AGGIUNTO: Classe per rendere il modale visibile */
}
.modal-content { background: #33333a; padding: 25px; border-radius: 15px; width: 90%; max-width: 500px; max-height: 90vh; overflow-y: auto; }
.modal-content h3 { margin-top: 0; color: var(--primary-color); }
.modal-actions { margin-top: 20px; display: flex; justify-content: space-between; gap: 10px; }
.modal-actions button { flex-grow: 1; }
#daily-workouts-list .workout-item { display: flex; align-items: center; justify-content: space-between; background: var(--card-color); padding: 10px; border-radius: 5px; margin-bottom: 10px; }

/* Stili Trainer e altri... */
#trainer-view { text-align: center; }
#trainer-instruction { font-size: 2.5em; font-weight: bold; color: var(--primary-color); min-height: 80px; transition: color 0.3s; }